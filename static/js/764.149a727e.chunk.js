"use strict";(self.webpackChunkreact_movies=self.webpackChunkreact_movies||[]).push([[764],{764:function(t,n,e){e.r(n);var r=e(439),u=e(791),c=e(689),a=e(87),o=e(546),s=e(184);n.default=function(){var t,n=(0,u.useState)([]),e=(0,r.Z)(n,2),i=e[0],f=e[1],h=(0,u.useState)(!1),p=(0,r.Z)(h,2),l=p[0],v=p[1],d=(0,u.useState)(null),x=(0,r.Z)(d,2),w=x[0],m=x[1],k=(0,c.TH)(),y=(0,a.useSearchParams)(""),b=(0,r.Z)(y,2),j=b[0],g=b[1],Z=null!==(t=j.get("query"))&&void 0!==t?t:"";(0,u.useEffect)((function(){Z&&(v(!0),(0,o.zi)(Z).then((function(t){v(!1),f(t.results)})).catch((function(){return m(!0)})).finally((function(){return v(!1)})))}),[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{action:"submit",onSubmit:function(t){t.preventDefault(),Z.length?(v(!0),(0,o.zi)(Z).then((function(t){t.results.length||alert("No data for query '".concat(Z,"'")),v(!1),f(t.results)})).catch((function(){return m(!0)})).finally((function(){return v(!1)}))):alert("Enter search query")},style:{margin:"20px"},children:[(0,s.jsx)("input",{type:"text",value:Z,onChange:function(t){g(t.target.value?{query:t.target.value}:{})}}),(0,s.jsx)("button",{style:{cursor:"pointer"},children:"Search"})]}),l&&(0,s.jsx)("div",{children:"Loading..."}),w&&(0,s.jsx)("div",{children:"Oops, something went wrong..."}),!l&&!w&&i&&(0,s.jsx)("ul",{children:i.map((function(t){return(0,s.jsx)("li",{children:(0,s.jsx)(a.Link,{to:"/movies/".concat(t.id),state:{from:k},children:t.title})},t.id)}))})]})}},546:function(t,n,e){e.d(n,{M1:function(){return f},XT:function(){return s},t2:function(){return i},tx:function(){return h},zi:function(){return p}});var r=e(861),u=e(687),c=e.n(u),a="https://api.themoviedb.org/3",o="376bdebe42e07e1ce735b7444b0a16bb",s=function(){var t=(0,r.Z)(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"/movie/").concat(n,"?api_key=").concat(o)).then((function(t){if(!t.ok)throw new Error(t.status,t.statusText);return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),i=function(){var t=(0,r.Z)(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"/movie/").concat(n,"?api_key=").concat(o)).then((function(t){if(!t.ok)throw new Error(t.status,t.statusText);return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"/movie/").concat(n,"/credits?api_key=").concat(o)).then((function(t){if(!t.ok)throw new Error(t.status,t.statusText);return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),h=function(){var t=(0,r.Z)(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"/movie/").concat(n,"/reviews?api_key=").concat(o)).then((function(t){if(!t.ok)throw new Error(t.status,t.statusText);return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"/search/movie?query=").concat(n,"}&include_adult=false&page=1&api_key=").concat(o)).then((function(t){if(!t.ok)throw new Error(t.status,t.statusText);return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=764.149a727e.chunk.js.map